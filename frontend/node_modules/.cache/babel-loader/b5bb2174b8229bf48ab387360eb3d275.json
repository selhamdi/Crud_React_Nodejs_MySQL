{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Blog-React-CRUD-MYSQL-master\\\\frontend\\\\src\\\\pages\\\\MainPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MainPage() {\n  _s();\n\n  const [postList, setPostList] = useState([]);\n  let history = useHistory();\n  useEffect(() => {\n    Axios.get(\"http://localhost:3002/api/get\").then(data => {\n      console.log(data);\n      setPostList(data.data);\n    });\n  }, []);\n\n  const LikePost = id => {\n    Axios.post(`http://localhost:3002/api/like/${id}`).then(response => {\n      alert(\"you liked a post\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"MainPage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PostContainer\",\n      children: postList.map((val, key) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Post\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"post-title\",\n            onClick: () => history.push(`/post/${val.id}`),\n            children: val.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: val.post_text.length > 300 ? val.post_text.substring(0, 300) + \" ...\" : val.post_text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: val.user_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"like_btn\",\n            onClick: () => LikePost(val.id),\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Likes: \", val.likes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainPage, \"+CSHEsUkDH+hurY/1Cib5IKz1Bg=\", false, function () {\n  return [useHistory];\n});\n\n_c = MainPage;\nexport default MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"sources":["C:/Users/admin/Desktop/Blog-React-CRUD-MYSQL-master/frontend/src/pages/MainPage.js"],"names":["React","useState","useEffect","Axios","useHistory","MainPage","postList","setPostList","history","get","then","data","console","log","LikePost","id","post","response","alert","map","val","key","push","title","post_text","length","substring","user_name","likes"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,YAAP;;;AAEA,SAASC,QAAT,GAAoB;AAAA;;AAEpB,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBN,QAAQ,CAAC,EAAD,CAAvC;AAEA,MAAIO,OAAO,GAAGJ,UAAU,EAAxB;AAEAF,EAAAA,SAAS,CAAC,MAAI;AACdC,IAAAA,KAAK,CAACM,GAAN,CAAU,+BAAV,EAA2CC,IAA3C,CAAiDC,IAAD,IAAQ;AACpDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAJ,MAAAA,WAAW,CAACI,IAAI,CAACA,IAAN,CAAX;AACH,KAHD;AAIC,GALQ,EAKP,EALO,CAAT;;AAOA,QAAMG,QAAQ,GAAIC,EAAD,IAAQ;AACzBZ,IAAAA,KAAK,CAACa,IAAN,CAAY,kCAAiCD,EAAG,EAAhD,EAAmDL,IAAnD,CAAyDO,QAAD,IAAY;AAChEC,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACH,KAFD;AAGC,GAJD;;AAMI,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,gBACKZ,QAAQ,CAACa,GAAT,CAAa,CAACC,GAAD,EAAKC,GAAL,KAAW;AACrB,4BACN;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACI;AAAI,YAAA,SAAS,EAAC,YAAd;AAA2B,YAAA,OAAO,EAAE,MAAKb,OAAO,CAACc,IAAR,CAAc,SAAQF,GAAG,CAACL,EAAG,EAA7B,CAAzC;AAAA,sBAA4EK,GAAG,CAACG;AAAhF;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEM;AAAA,sBAAIH,GAAG,CAACI,SAAJ,CAAcC,MAAd,GAAuB,GAAvB,GAA6BL,GAAG,CAACI,SAAJ,CAAcE,SAAd,CAAwB,CAAxB,EAA0B,GAA1B,IAAgC,MAA7D,GAAsEN,GAAG,CAACI;AAA9E;AAAA;AAAA;AAAA;AAAA,kBAFN,eAGM;AAAA,sBAAKJ,GAAG,CAACO;AAAT;AAAA;AAAA;AAAA;AAAA,kBAHN,eAIM;AAAQ,YAAA,SAAS,EAAC,UAAlB;AAA6B,YAAA,OAAO,EAAG,MAAMb,QAAQ,CAACM,GAAG,CAACL,EAAL,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJN,eAMM;AAAA,kCAAYK,GAAG,CAACQ,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,kBANN;AAAA;AAAA;AAAA;AAAA;AAAA,gBADM;AAUH,OAXA;AADL;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADJ;AAmBH;;GAtCQvB,Q;UAIKD,U;;;KAJLC,Q;AAwCT,eAAeA,QAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport Axios from 'axios'\nimport {useHistory} from 'react-router-dom'\nimport '../App.css'\n\nfunction MainPage() {\n\nconst [postList,setPostList] = useState([]);\n\nlet history = useHistory();\n\nuseEffect(()=>{\nAxios.get(\"http://localhost:3002/api/get\").then((data)=>{\n    console.log(data)\n    setPostList(data.data)\n});\n},[])\n\nconst LikePost = (id) => {\nAxios.post(`http://localhost:3002/api/like/${id}`).then((response)=>{\n    alert(\"you liked a post\")\n})\n}\n\n    return (\n        <div className=\"MainPage\">\n          <div className=\"PostContainer\">\n              {postList.map((val,key)=>{\n                  return (\n            <div className=\"Post\" >\n                <h1 className=\"post-title\" onClick={()=>(history.push(`/post/${val.id}`))}>{val.title}</h1>\n                  <p>{val.post_text.length > 300 ? val.post_text.substring(0,300)+ \" ...\" : val.post_text}</p>\n                  <h4>{val.user_name}</h4>\n                  <button className=\"like_btn\" onClick={(() => LikePost(val.id))}>Like</button>\n                  \n                  <h5>Likes: {val.likes}</h5>\n              </div>\n                  )\n              })}\n              \n          </div>\n        </div>\n    )\n}\n\nexport default MainPage\n"]},"metadata":{},"sourceType":"module"}